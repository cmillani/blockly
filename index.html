<!DOCTYPE html>
<html lang="en">
<head>
  <title>COISA Unchained</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
  if (window.location.protocol != "https:" && window.location.protocol != "file:")
      window.location.href = "https:" + window.location.href.substring(window.location.protocol.length);
  </script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
  <h2>COISA Unchained</h2>
  <ul class="nav nav-pills">
    <li class="active"><a data-toggle="pill" href="#home">SDK</a></li>
    <li><a data-toggle="pill" href="#config">Configuration</a></li>
    <li><a data-toggle="pill" href="#about">About</a></li>
  </ul>
  
  <div class="tab-content">
    <div id="home" class="tab-pane fade in active">
      <h3>SDK</h3>
      <p>COISA SDK here (this is just a placeholder ;) ).</p>
    </div>
    <div id="config" class="tab-pane fade">
      <h3>Configuration</h3>
      <p>
        Open <b><i>chrome://flags/#enable-web-bluetooth</i></b> to enable web bluetooth <br>
        Only fully works on Android M+ with chrome 49, ChromeOS and Linux with Chrome 50
      </p>
      <script>
        function hello(){
          console.log("Seek");
          navigator.bluetooth.requestDevice({ filters: [{ services: ['00002020-0000-1000-8000-00805f9b34fb'] }] })
          .then(device => {
            console.log(device);
            return device.connectGATT();
          })
          .then(server => {
            console.log(server);
            return server.getPrimaryService('00002020-0000-1000-8000-00805f9b34fb')
          })
          .then(service => {
            console.log(service);
          })
          .catch(error => { console.log(error); });
        }
      </script>
      <input type="button" value="Click here to search COISA" onclick="hello()">
    </div>
    <div id="about" class="tab-pane fade">
      <h3>About</h3>
      <p>
        This is a debugging interface. Soon, a client side web SDK for COISA will be available here :)
      </p>
    </div>
  </div>
</div>

</body>
</html>
